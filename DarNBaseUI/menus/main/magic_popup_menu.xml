<!-- magic_popup_menu.xml -->
<!-- modified by wz/DarN -->
<menu name="MagicPopupMenu">
	<class> &MagicPopupMenu; </class>
	<stackingtype> &does_not_stack; </stackingtype>
	<locus> &true; </locus>
	<alpha>	0 </alpha>
	<x> 0 </x>
	<y> 0 </y>
	<menufade> 0.0 </menufade>
	<user0> 0 </user0>				<!-- Y position of source object -->
	<user1> 0 </user1>				<!-- Number of pixels from bottom of screen below which the menu should not go. -->
	<user2>
		<copy src="me()" trait="_magicWidth" />
		<onlyif src="me()" trait="_floating" />
		<add>
			<copy> 1.5 </copy>
			<onlyifnot src="me()" trait="_floating" />
		</add>
	</user2>					<!-- Slide-in rate of menu in pixels/ms -->
	<user3> 0 </user3>				<!-- Real Depth to display -->

	<_item_height> 30 </_item_height> <!-- DarN 52 -->
	<_buffer> 9 </_buffer><!-- NOTE:  This is the highest this can go without overrunning the size of the background texture when we have 8 effects (the max) to display. -->
	<_magicNameAddHeight> 16 </_magicNameAddHeight>

	<_magicX>
		<copy src="sibling(InventoryMenu)" trait="_iSpellPopupX" />
	</_magicX>
	<_magicY>
		<copy src="sibling(InventoryMenu)" trait="_iSpellPopupY" />
	</_magicY>
	<_magicWidth>
		<copy src="sibling(InventoryMenu)" trait="_iSpellPopupWidth" />
	</_magicWidth>
	<_magicAlpha>
		<copy src="sibling(InventoryMenu)" trait="_iPopupAlpha" />
	</_magicAlpha>
	<_floating>
		<copy src="sibling(InventoryMenu)" trait="_bFloatMagic" />
		<and src="sibling(InventoryMenu)" trait="_bEnableGrid" />
		<and src="sibling(InventoryMenu)" trait="visible" />
	</_floating>


	<rect name="magicpop_fake_background">
		<id> 1 </id>
		<width>
			<copy src="magicpop_effect_1_text" trait="width" />
			<max>
				<copy src="magicpop_effect_2_text" trait="width" />
				<onlyif src="magicpop_effect_2" trait="visible" />
			</max>
			<max>
				<copy src="magicpop_effect_3_text" trait="width" />
				<onlyif src="magicpop_effect_3" trait="visible" />
			</max>
			<max>
				<copy src="magicpop_effect_4_text" trait="width" />
				<onlyif src="magicpop_effect_4" trait="visible" />
			</max>
			<max>
				<copy src="magicpop_effect_5_text" trait="width" />
				<onlyif src="magicpop_effect_5" trait="visible" />
			</max>
			<max>
				<copy src="magicpop_effect_6_text" trait="width" />
				<onlyif src="magicpop_effect_6" trait="visible" />
			</max>
			<max>
				<copy src="magicpop_effect_7_text" trait="width" />
				<onlyif src="magicpop_effect_7" trait="visible" />
			</max>
			<max>
				<copy src="magicpop_effect_8_text" trait="width" />
				<onlyif src="magicpop_effect_8" trait="visible" />
			</max>
			<max>
				<copy src="magicpop_requires_text" trait="width" />
				<onlyif src="magicpop_background_bottom" trait="visible" />
			</max>
			<add> 100 </add>
			<min> 430 </min>
		</width>
		<height>
			<copy>
				<copy src="magicpop_effect_1" trait="height" />
				<onlyif src="magicpop_effect_1" trait="visible" />
			</copy>
			<add>
				<copy src="magicpop_effect_2" trait="height" />
				<onlyif src="magicpop_effect_2" trait="visible" />
			</add>
			<add>
				<copy src="magicpop_effect_3" trait="height" />
				<onlyif src="magicpop_effect_3" trait="visible" />
			</add>
			<add>
				<copy src="magicpop_effect_4" trait="height" />
				<onlyif src="magicpop_effect_4" trait="visible" />
			</add>
			<add>
				<copy src="magicpop_effect_5" trait="height" />
				<onlyif src="magicpop_effect_5" trait="visible" />
			</add>
			<add>
				<copy src="magicpop_effect_6" trait="height" />
				<onlyif src="magicpop_effect_6" trait="visible" />
			</add>
			<add>
				<copy src="magicpop_effect_7" trait="height" />
				<onlyif src="magicpop_effect_7" trait="visible" />
			</add>
			<add>
				<copy src="magicpop_effect_8" trait="height" />
				<onlyif src="magicpop_effect_8" trait="visible" />
			</add>
			<add> 30 </add> <!-- DarN 25 -->
			 <add>
				<copy src="child(magicpop_background_bottom)" trait="height" />
				  <add> 5 </add> <!-- DarN add -->
				<onlyif src="child(magicpop_background_bottom)" trait="visible" />
			</add>
		</height>
		<x>
			<copy src="parent()" trait="user1" />
			<sub src="me()" trait="width" />
		</x>
		<y>
			<copy> 999999 </copy>
			<onlyif>
				<copy src="parent()" trait="user0" />
				<eq> 0 </eq>
			</onlyif>
			<add src="parent()" trait="user0" />
			<min>
				<copy src="screen()" trait="height" />
				<sub src="me()" trait="height" />
				<sub src="parent()" trait="user1" />
			</min>
		</y>
		<locus> <not src="parent()" trait="_floating" /> </locus>

		<image name="magicpop_background">
			<target> &true; </target>
			<filename> Menus\Magic\magic_popup_background.dds </filename>
			<zoom> -1 </zoom>
			<alpha>
				<copy src="MagicPopupMenu" trait="_magicAlpha" />
				<onlyif src="MagicPopupMenu" trait="_floating" />
				<add>
					<copy> 255 </copy>
					<onlyifnot src="MagicPopupMenu" trait="_floating" />
				</add>
			</alpha>
			<width>
				<copy src="MagicPopupMenu" trait="_magicWidth" />
				<onlyif src="MagicPopupMenu" trait="_floating" />
				<add>
					<copy src="parent()" trait="width" />
					<onlyifnot src="MagicPopupMenu" trait="_floating" />
				</add>
			</width>
			<height>
				<copy src="parent()" trait="height" />
			</height>
			<x>
				<copy src="MagicPopupMenu" trait="_magicX" />
				<onlyif src="MagicPopupMenu" trait="_floating" />
			</x>
			<y>
				<copy src="MagicPopupMenu" trait="_magicY" />
				<onlyif src="MagicPopupMenu" trait="_floating" />
			</y>
			<depth>
				<copy src="MagicPopupMenu" trait="user3" />
				<sub>
					<copy> 10 </copy>
					<onlyifnot src="MagicPopupMenu" trait="_floating" />
				</sub>
				<add>
					<copy> 39 </copy> <!-- DarN 30 -->
					<onlyif src="MagicPopupMenu" trait="_floating" />
				</add>
			</depth>
			<locus> &true; </locus>

	<!-- MENU BORDER ==============================================================================-->

			<image name="magicpop_border_ULcorner">
				<depth> 1 </depth>
				<filename> Menus\Magic\magic_popup_border_corner.dds </filename>
				<x> 0 </x>
				<y> 0 </y>
				<width> 10 </width>
				<height> 10 </height>
				<visible> <not src="MagicPopupMenu" trait="_floating" /> </visible>
			</image>
			<image name="magicpop_border_top">
				<depth> 1 </depth>
				<filename> Menus\Magic\magic_popup_border_edge_horizontal.dds </filename>
				<x>
					<copy src="sibling(magicpop_border_ULcorner)" trait="x" />
					<add src="sibling(magicpop_border_ULcorner)" trait="width" />
				</x>
				<y>
					<copy src="sibling(magicpop_border_ULcorner)" trait="y" />
				</y>
				<width>
					<copy src="sibling(magicpop_border_URcorner)" trait="x" />
					<sub src="sibling(magicpop_border_ULcorner)" trait="x" />
					<sub src="sibling(magicpop_border_ULcorner)" trait="width" />
				</width>
				<height> 11 </height>
				<visible> <not src="MagicPopupMenu" trait="_floating" /> </visible>
			</image>
			<image name="magicpop_border_URcorner">
				<depth> 1 </depth>
				<filename> Menus\Magic\magic_popup_border_corner.dds </filename>
				<x>
					<copy src="parent()" trait="width" />
					<sub src="me()" trait="width" />
					<add> 2 </add>
				</x>
				<y> 0 </y>
				<width>
					<copy src="sibling(magicpop_border_ULcorner)" trait="width" />
				</width>
				<height>
					<copy src="sibling(magicpop_border_ULcorner)" trait="height" />
				</height>
				<visible> <not src="MagicPopupMenu" trait="_floating" /> </visible>
			</image>
			<image name="magicpop_border_left">
				<depth> 1 </depth>
				<filename> Menus\Magic\magic_popup_border_edge_vertical.dds </filename>
				<x>
					<copy src="sibling(magicpop_border_ULcorner)" trait="x" />
				</x>
				<y>
					<copy src="sibling(magicpop_border_ULcorner)" trait="y" />
					<add src="sibling(magicpop_border_ULcorner)" trait="height" />
				</y>
				<width> 11 </width>
				<height>
					<copy src="sibling(magicpop_border_LLcorner)" trait="y" />
					<sub src="sibling(magicpop_border_ULcorner)" trait="y" />
					<sub src="sibling(magicpop_border_ULcorner)" trait="height" />
				</height>
			</image>
			<image name="magicpop_border_LLcorner">
				<depth> 1 </depth>
				<filename> Menus\Magic\magic_popup_border_corner.dds </filename>
				<x> 0 </x>
				<y>
					<copy src="parent()" trait="height" />
					<sub src="me()" trait="height" />
					<add> 2 </add>
				</y>
				<width> 10 </width>
				<height> 10 </height>
			</image>
			<image name="magicpop_border_bottom">
				<depth> 1 </depth>
				<filename> Menus\Magic\magic_popup_border_edge_horizontal.dds </filename>
				<x>
					<copy src="sibling(magicpop_border_LLcorner)" trait="x" />
					<add src="sibling(magicpop_border_LLcorner)" trait="width" />
				</x>
				<y>
					<copy src="sibling(magicpop_border_LLcorner)" trait="y" />
				</y>
				<width>
					<copy src="sibling(magicpop_border_LRcorner)" trait="x" />
					<sub src="sibling(magicpop_border_LLcorner)" trait="x" />
					<sub src="sibling(magicpop_border_LLcorner)" trait="width" />
				</width>
				<height> 11 </height>
			</image>
			<image name="magicpop_border_LRcorner">
				<depth> 1 </depth>
				<filename> Menus\Magic\magic_popup_border_corner.dds </filename>
				<x>
					<copy src="parent()" trait="width" />
					<sub src="me()" trait="width" />
					<add> 2 </add>
				</x>
				<y>
					<copy src="parent()" trait="height" />
					<sub src="me()" trait="height" />
					<add> 2 </add>
				</y>
				<width>
					<copy src="sibling(magicpop_border_ULcorner)" trait="width" />
				</width>
				<height>
					<copy src="sibling(magicpop_border_ULcorner)" trait="height" />
				</height>
			</image>
			<image name="magicpop_border_right">
				<depth> 1 </depth>
				<filename> Menus\Magic\magic_popup_border_edge_vertical.dds </filename>
				<x>
					<copy src="sibling(magicpop_border_URcorner)" trait="x" />
				</x>
				<y>
					<copy src="sibling(magicpop_border_URcorner)" trait="y" />
					<add src="sibling(magicpop_border_URcorner)" trait="height" />
				</y>
				<width> 11 </width>
				<height>
					<copy src="sibling(magicpop_border_LRcorner)" trait="y" />
					<sub src="sibling(magicpop_border_URcorner)" trait="y" />
					<sub src="sibling(magicpop_border_URcorner)" trait="height" />
				</height>
			</image>

	<!-- BOTTOM OF POPUP TEXT ==============================================================-->

		<rect name="magicpop_background_bottom">
			<id> 21 </id>
			<depth> 1 </depth>
			<visible> &false; </visible>
			<locus> &true; </locus>
			<x> 0 </x>
			<y>
				<copy src="parent()" trait="height" />
				<sub src="me()" trait="height" />
				<sub> 16 </sub> <!-- DarN 8 -->
			</y>
			<width>
				<copy src="parent()" trait="width" />
				<!-- <sub> 30 </sub> -->
			</width>
			<height>
				<copy src="child(magicpop_requires_text)" trait="height" />
				<add> 16 </add> <!-- DarN 12 -->
			</height>
			<image name="magicpop_divider">
				<filename> Menus\Magic\magic_popup_divider.dds </filename>
				<depth> 1 </depth>
				<width> 240 </width> <!-- DarN 320 -->
				<height> 12 </height> <!-- DarN 16 -->
				<x>
					<copy src="parent()" trait="width" />
					<sub src="me()" trait="width" />
					<div> 2 </div>
				</x>
				<y> 0 </y>
				<zoom> 75 </zoom> <!-- DarN add -->
			</image>
			<text name="magicpop_requires_text">
				<font> 3 </font>
				<string>
					<copy src="parent()" trait="string" />
				</string>
				<wrapwidth>
					<copy src="parent()" trait="width" />
				</wrapwidth>
				<depth> 1 </depth>
				<x>
					<copy src="parent()" trait="width" />
					<sub src="me()" trait="width" />
					<div> 2 </div>
				</x>
				<y> <!-- DarN 0 -->
					<copy src="sibling(magicpop_divider)" trait="y" />
					<add src="sibling(magicpop_divider)" trait="height" />
					<add> 6 </add> <!-- DarN 8 -->
				</y>
				<red> 0 </red>
				<green> 0 </green>
				<blue> 0 </blue>
				<alpha> 255 </alpha>
			</text>
		</rect>

	<!-- MAIN CONTENTS ==============================================================-->

		<rect name="magicpop_contents">
			<alpha> 0 </alpha>
			<depth> 1 </depth>
			<locus> &true; </locus>
			<x> 0 </x>
			<rect name="magicpop_effect_1">
				<id> 11 </id>
				<visible> &true; </visible>
				<depth> 1 </depth>
				<width>
					<copy src="magicpop_background" trait="width" />
					<sub> 30 </sub>
				</width>
				<height>
					<copy src="child(magicpop_effect_1_text)" trait="height" />
					<add src="MagicPopupMenu" trait="_magicNameAddHeight" />
				</height>
				<x> 15 </x>
				<y> 15 </y>
				<alpha> 0 </alpha>
				<locus> &true; </locus>
				<user0></user0> <!-- effect description string -->
				<user1></user1> <!-- icon pathname -->
				<user2> -1 </user2> <!-- icon zoom -->

				<image name="magicpop_effect_1_icon">
					<zoom> <copy src="parent()" trait="user2" /> </zoom>
					<filename>
						<copy src="parent()" trait="user1" />
					</filename>
					<width> 32 </width>
					<height> 32 </height>
					<x> 0 </x>
					<y>
						<copy src="parent()" trait="height" />
						<sub> 28 </sub>
						<div> 2 </div>
					</y>
				</image>
				<text name="magicpop_effect_1_text">
					<font> 2 </font>
					<string>
						<copy src="parent()" trait="user0" />
					</string>
					<wrapwidth>
						<copy src="parent()" trait="width" />
						<sub> 40 </sub>
						<onlyif src="MagicPopupMenu" trait="_floating" />
						<add>
							<copy> 340 </copy>
							<onlyifnot src="MagicPopupMenu" trait="_floating" />
						</add>
					</wrapwidth>
					<x> 40 </x>
					<y>
						<copy src="parent()" trait="height" />
						<sub src="me()" trait="height" />
						<div> 2 </div>
						<add> 6 </add> <!-- DarN add -->
					</y>
					<red> 0 </red> <!-- DarN 117 -->
					<green> 0 </green> <!-- DarN 59 -->
					<blue> 0 </blue> <!-- DarN 33 -->
					<alpha> 200 </alpha> <!-- DarN 255 -->
				</text>
			</rect>
			<rect name="magicpop_effect_2">
				<id> 12 </id>
				<visible> &true; </visible>
				<depth> 2 </depth>
				<width>
					<copy src="magicpop_background" trait="width" />
					<sub> 30 </sub>
				</width>
				<height>
					<copy src="child(magicpop_effect_2_text)" trait="height" />
					<add src="MagicPopupMenu" trait="_magicNameAddHeight" />
				</height>
				<x> 15 </x>
				<y>
					<copy src="sibling(magicpop_effect_1)" trait="y" />
					<add src="sibling(magicpop_effect_1)" trait="height" />
				</y>
				<alpha> 0 </alpha>
				<locus> &true; </locus>
				<user0></user0> <!-- effect description string -->
				<user1></user1> <!-- icon pathname -->
				<user2> -1 </user2> <!-- icon zoom -->
				<image name="magicpop_effect_2_icon">
					<zoom> <copy src="parent()" trait="user2" /> </zoom>
					<filename>
						<copy src="parent()" trait="user1" />
					</filename>
					<width> 32 </width>
					<height> 32 </height>
					<x> 0 </x>
					<y>
						<copy src="parent()" trait="height" />
						<sub> 28 </sub>
						<div> 2 </div>
					</y>
				</image>
				<text name="magicpop_effect_2_text">
					<font> 2 </font>
					<string>
						<copy src="parent()" trait="user0" />
					</string>
					<wrapwidth>
						<copy src="parent()" trait="width" />
						<sub> 40 </sub>
						<onlyif src="MagicPopupMenu" trait="_floating" />
						<add>
							<copy> 340 </copy>
							<onlyifnot src="MagicPopupMenu" trait="_floating" />
						</add>
					</wrapwidth>
					<x> 40 </x>
					<y>
						<copy src="parent()" trait="height" />
						<sub src="me()" trait="height" />
						<div> 2 </div>
						<add> 6 </add> <!-- DarN add -->
					</y>
					<red> 0 </red> <!-- DarN 117 -->
					<green> 0 </green> <!-- DarN 59 -->
					<blue> 0 </blue> <!-- DarN 33 -->
					<alpha> 200 </alpha> <!-- DarN 255 -->
				</text>
			</rect>
			<rect name="magicpop_effect_3">
				<id> 13 </id>
				<visible> &true; </visible>
				<depth> 2 </depth>
				<width>
					<copy src="magicpop_background" trait="width" />
					<sub> 30 </sub>
				</width>
				<height>
					<copy src="child(magicpop_effect_3_text)" trait="height" />
					<add src="MagicPopupMenu" trait="_magicNameAddHeight" />
				</height>
				<x> 15 </x>
				<y>
					<copy src="sibling(magicpop_effect_2)" trait="y" />
					<add src="sibling(magicpop_effect_2)" trait="height" />
				</y>
				<alpha> 0 </alpha>
				<locus> &true; </locus>
				<user0></user0> <!-- effect description string -->
				<user1></user1> <!-- icon pathname -->
				<user2> -1 </user2> <!-- icon zoom -->
				<image name="magicpop_effect_3_icon">
					<zoom> <copy src="parent()" trait="user2" /> </zoom>
					<filename>
						<copy src="parent()" trait="user1" />
					</filename>
					<width> 32 </width>
					<height> 32 </height>
					<x> 0 </x>
					<y>
						<copy src="parent()" trait="height" />
						<sub> 28 </sub>
						<div> 2 </div>
					</y>
				</image>
				<text name="magicpop_effect_3_text">
					<font> 2 </font>
					<string>
						<copy src="parent()" trait="user0" />
					</string>
					<wrapwidth>
						<copy src="parent()" trait="width" />
						<sub> 40 </sub>
					</wrapwidth>
					<x> 40 </x>
					<y>
						<copy src="parent()" trait="height" />
						<sub src="me()" trait="height" />
						<div> 2 </div>
						<add> 6 </add> <!-- DarN add -->
					</y>
					<red> 0 </red> <!-- DarN 117 -->
					<green> 0 </green> <!-- DarN 59 -->
					<blue> 0 </blue> <!-- DarN 33 -->
					<alpha> 200 </alpha> <!-- DarN 255 -->
				</text>
			</rect>
			<rect name="magicpop_effect_4">
				<id> 14 </id>
				<visible> &true; </visible>
				<depth> 2 </depth>
				<width>
					<copy src="magicpop_background" trait="width" />
					<sub> 30 </sub>
				</width>
				<height>
					<copy src="child(magicpop_effect_4_text)" trait="height" />
					<add src="MagicPopupMenu" trait="_magicNameAddHeight" />
				</height>
				<x> 15 </x>
				<y>
					<copy src="sibling(magicpop_effect_3)" trait="y" />
					<add src="sibling(magicpop_effect_3)" trait="height" />
				</y>
				<alpha> 0 </alpha>
				<locus> &true; </locus>
				<user0></user0> <!-- effect description string -->
				<user1></user1> <!-- icon pathname -->
				<user2> -1 </user2> <!-- icon zoom -->
				<image name="magicpop_effect_4_icon">
					<zoom> <copy src="parent()" trait="user2" /> </zoom>
					<filename>
						<copy src="parent()" trait="user1" />
					</filename>
					<width> 32 </width>
					<height> 32 </height>
					<x> 0 </x>
					<y>
						<copy src="parent()" trait="height" />
						<sub> 28 </sub>
						<div> 2 </div>
					</y>
				</image>
				<text name="magicpop_effect_4_text">
					<font> 2 </font>
					<string>
						<copy src="parent()" trait="user0" />
					</string>
					<wrapwidth>
						<copy src="parent()" trait="width" />
						<sub> 40 </sub>
					</wrapwidth>
					<x> 40 </x>
					<y>
						<copy src="parent()" trait="height" />
						<sub src="me()" trait="height" />
						<div> 2 </div>
						<add> 6 </add> <!-- DarN add -->
					</y>
					<red> 0 </red> <!-- DarN 117 -->
					<green> 0 </green> <!-- DarN 59 -->
					<blue> 0 </blue> <!-- DarN 33 -->
					<alpha> 200 </alpha> <!-- DarN 255 -->
				</text>
			</rect>
			<rect name="magicpop_effect_5">
				<id> 15 </id>
				<visible> &true; </visible>
				<depth> 2 </depth>
				<width>
					<copy src="magicpop_background" trait="width" />
					<sub> 30 </sub>
				</width>
				<height>
					<copy src="child(magicpop_effect_5_text)" trait="height" />
					<add src="MagicPopupMenu" trait="_magicNameAddHeight" />
				</height>
				<x> 15 </x>
				<y>
					<copy src="sibling(magicpop_effect_4)" trait="y" />
					<add src="sibling(magicpop_effect_4)" trait="height" />
				</y>
				<alpha> 0 </alpha>
				<locus> &true; </locus>
				<user0></user0> <!-- effect description string -->
				<user1></user1> <!-- icon pathname -->
				<user2> -1 </user2> <!-- icon zoom -->
				<image name="magicpop_effect_5_icon">
					<zoom> <copy src="parent()" trait="user2" /> </zoom>
					<filename>
						<copy src="parent()" trait="user1" />
					</filename>
					<width> 32 </width>
					<height> 32 </height>
					<x> 0 </x>
					<y>
						<copy src="parent()" trait="height" />
						<sub> 28 </sub>
						<div> 2 </div>
					</y>
				</image>
				<text name="magicpop_effect_5_text">
					<font> 2 </font>
					<string>
						<copy src="parent()" trait="user0" />
					</string>
					<wrapwidth>
						<copy src="parent()" trait="width" />
						<sub> 40 </sub>
					</wrapwidth>
					<x> 40 </x>
					<y>
						<copy src="parent()" trait="height" />
						<sub src="me()" trait="height" />
						<div> 2 </div>
						<add> 6 </add> <!-- DarN add -->
					</y>
					<red> 0 </red> <!-- DarN 117 -->
					<green> 0 </green> <!-- DarN 59 -->
					<blue> 0 </blue> <!-- DarN 33 -->
					<alpha> 200 </alpha> <!-- DarN 255 -->
				</text>
			</rect>
			<rect name="magicpop_effect_6">
				<id> 16 </id>
				<visible> &true; </visible>
				<depth> 2 </depth>
				<width>
					<copy src="magicpop_background" trait="width" />
					<sub> 30 </sub>
				</width>
				<height>
					<copy src="child(magicpop_effect_6_text)" trait="height" />
					<add src="MagicPopupMenu" trait="_magicNameAddHeight" />
				</height>
				<x> 15 </x>
				<y>
					<copy src="sibling(magicpop_effect_5)" trait="y" />
					<add src="sibling(magicpop_effect_5)" trait="height" />
				</y>
				<alpha> 0 </alpha>
				<locus> &true; </locus>
				<user0></user0> <!-- effect description string -->
				<user1></user1> <!-- icon pathname -->
				<user2> -1 </user2> <!-- icon zoom -->
				<image name="magicpop_effect_6_icon">
					<zoom> <copy src="parent()" trait="user2" /> </zoom>
					<filename>
						<copy src="parent()" trait="user1" />
					</filename>
					<width> 32 </width>
					<height> 32 </height>
					<x> 0 </x>
					<y>
						<copy src="parent()" trait="height" />
						<sub> 28 </sub>
						<div> 2 </div>
					</y>
				</image>
				<text name="magicpop_effect_6_text">
					<font> 2 </font>
					<string>
						<copy src="parent()" trait="user0" />
					</string>
					<wrapwidth>
						<copy src="parent()" trait="width" />
						<sub> 40 </sub>
					</wrapwidth>
					<x> 40 </x>
					<y>
						<copy src="parent()" trait="height" />
						<sub src="me()" trait="height" />
						<div> 2 </div>
						<add> 6 </add> <!-- DarN add -->
					</y>
					<red> 0 </red> <!-- DarN 117 -->
					<green> 0 </green> <!-- DarN 59 -->
					<blue> 0 </blue> <!-- DarN 33 -->
					<alpha> 200 </alpha> <!-- DarN 255 -->
				</text>
			</rect>
			<rect name="magicpop_effect_7">
				<id> 17 </id>
				<visible> &true; </visible>
				<depth> 2 </depth>
				<width>
					<copy src="magicpop_background" trait="width" />
					<sub> 30 </sub>
				</width>
				<height>
					<copy src="child(magicpop_effect_7_text)" trait="height" />
					<add src="MagicPopupMenu" trait="_magicNameAddHeight" />
				</height>
				<x> 15 </x>
				<y>
					<copy src="sibling(magicpop_effect_6)" trait="y" />
					<add src="sibling(magicpop_effect_6)" trait="height" />
				</y>
				<alpha> 0 </alpha>
				<locus> &true; </locus>
				<user0></user0> <!-- effect description string -->
				<user1></user1> <!-- icon pathname -->
				<user2> -1 </user2> <!-- icon zoom -->
				<image name="magicpop_effect_7_icon">
					<zoom> <copy src="parent()" trait="user2" /> </zoom>
					<filename>
						<copy src="parent()" trait="user1" />
					</filename>
					<width> 32 </width>
					<height> 32 </height>
					<x> 0 </x>
					<y>
						<copy src="parent()" trait="height" />
						<sub> 28 </sub>
						<div> 2 </div>
					</y>
				</image>
				<text name="magicpop_effect_7_text">
					<font> 2 </font>
					<string>
						<copy src="parent()" trait="user0" />
					</string>
					<wrapwidth>
						<copy src="parent()" trait="width" />
						<sub> 40 </sub>
					</wrapwidth>
					<x> 40 </x>
					<y>
						<copy src="parent()" trait="height" />
						<sub src="me()" trait="height" />
						<div> 2 </div>
						<add> 6 </add> <!-- DarN add -->
					</y>
					<red> 0 </red> <!-- DarN 117 -->
					<green> 0 </green> <!-- DarN 59 -->
					<blue> 0 </blue> <!-- DarN 33 -->
					<alpha> 200 </alpha> <!-- DarN 255 -->
				</text>
			</rect>
			<rect name="magicpop_effect_8">
				<id> 18 </id>
				<visible> &true; </visible>
				<depth> 2 </depth>
				<width>
					<copy src="magicpop_background" trait="width" />
					<sub> 30 </sub>
				</width>
				<height>
					<copy src="child(magicpop_effect_8_text)" trait="height" />
					<add src="MagicPopupMenu" trait="_magicNameAddHeight" />
				</height>
				<x> 15 </x>
				<y>
					<copy src="sibling(magicpop_effect_7)" trait="y" />
					<add src="sibling(magicpop_effect_7)" trait="height" />
				</y>
				<alpha> 0 </alpha>
				<locus> &true; </locus>
				<user0></user0> <!-- effect description string -->
				<user1></user1> <!-- icon pathname -->
				<user2> -1 </user2> <!-- icon zoom -->
				<image name="magicpop_effect_8_icon">
					<zoom> <copy src="parent()" trait="user2" /> </zoom>
					<filename>
						<copy src="parent()" trait="user1" />
					</filename>
					<width> 32 </width>
					<height> 32 </height>
					<x> 0 </x>
					<y>
						<copy src="parent()" trait="height" />
						<sub> 28 </sub>
						<div> 2 </div>
					</y>
				</image>
				<text name="magicpop_effect_8_text">
					<font> 2 </font>
					<string>
						<copy src="parent()" trait="user0" />
					</string>
					<wrapwidth>
						<copy src="parent()" trait="width" />
						<sub> 40 </sub>
					</wrapwidth>
					<x> 40 </x>
					<y>
						<copy src="parent()" trait="height" />
						<sub src="me()" trait="height" />
						<div> 2 </div>
						<add> 6 </add> <!-- DarN add -->
					</y>
					<red> 0 </red> <!-- DarN 117 -->
					<green> 0 </green> <!-- DarN 59 -->
					<blue> 0 </blue> <!-- DarN 33 -->
					<alpha> 200 </alpha> <!-- DarN 255 -->
				</text>
			</rect>
		</rect> <!-- "magicpop_contents" -->
	</image><!-- "magicpop_background" -->
	</rect>
</menu>