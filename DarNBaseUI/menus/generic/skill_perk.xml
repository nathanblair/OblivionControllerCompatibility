<!-- skill_perk.xml -->
 <!-- DarN Version 1.0 -->
<menu name="SkillPerkMenu">
	<class> &GenericMenu; </class>
	<stackingtype> &no_click_past; </stackingtype>
	<locus> &true; </locus>
	<explorefade> 0.25 </explorefade>

	<user0></user0>		<!-- Icon filename -->
	<user1></user1>		<!-- Perk description -->
	<user2></user2>		<!-- "OK" -->
	
	<!-- <xbuttona> <ref src="skillperk_ok_button" trait="clicked" /> </xbuttona> -->
	<xup> <ref src="skillperk_ok_button" trait="clicked" /> </xup>

<include src="darn\skill_perk_config.xml" />

	<rect name="skillperk_background">
<include src="darn\generic_background75.xml" />
		<visible> &true; </visible>
		<depth> 50 </depth>
		<locus> &true; </locus>
		<user0>
			<copy src="skill_icon" trait="x" />
			<add src="skill_icon" trait="width" />
			<add> 300 </add>
		</user0>		<!-- DarN add width -->
		<user1><!-- DarN add height -->
			<copy src="skill_icon" trait="y" />
			<add src="skill_icon" trait="height" />
			<!-- <add> 30 </add> -->
		</user1>			
		<x>
			<copy src="screen()" trait="width" />
			<sub src="me()" trait="width" />
			<div> 2 </div>
		</x>
		<y>
			<copy src="screen()" trait="height" />
			<sub src="me()" trait="height" />
			<div> 2 </div>
		</y>

		<image name="skill_icon">
			<filename>
				<copy src="SkillPerkMenu" trait="user0" />
			</filename>
			<zoom> <copy src="darnui_settings" trait="_spzoom" /> </zoom>
			<depth> 3 </depth>
			<width> <!-- DarN 320 -->
				<copy> 320 </copy>
				<mul src="me()" trait="zoom" />
				<div> 100 </div>
			</width>
			<height> <!-- DarN 430 -->
				<copy> 430 </copy>
				<mul src="me()" trait="zoom" />
				<div> 100 </div>
			</height>
			<x> 30 </x> <!-- DarN 40 -->
			<y>
				<!-- <copy src="parent()" trait="height" />
				<sub src="me()" trait="height" />
				<div> 2 </div> -->
				25
			</y>
		</image>

		<text name="skillperk_description">
			<string>
				<copy src="SkillPerkMenu" trait="user1"/>
			</string>
			<depth> 3 </depth>
			<font> <copy src="darnui_settings" trait="_descfont" /> </font><!-- DarN add -->
			<red> <copy src="darnui_settings" trait="_descred" /> </red> <!-- DarN 117 -->
			<green> <copy src="darnui_settings" trait="_descgreen" /> </green> <!-- DarN 59 -->
			<blue> <copy src="darnui_settings" trait="_descblue" /> </blue> <!-- DarN 33 -->
			<alpha> <copy src="darnui_settings" trait="_descalpha" /> </alpha> <!-- DarN 255 -->
			<visible> &true; </visible>
			<x>
				<copy src="skill_icon" trait="x"/>
				<add src="skill_icon" trait="width"/>
				<sub> 24 </sub> <!-- DarN 24 -->
			</x>
			<y>
				<copy src="skill_icon" trait="y"/>
				<add> 5 </add> <!-- DarN add -->
			</y>
			<wrapwidth>
				<copy src="parent()" trait="width"/>
				<sub src="skill_icon" trait="width"/>
				<sub> 50 </sub> <!-- DarN 60 -->
			</wrapwidth>
		</text>

		<image name="skillperk_ok_button">
<include src="darn\button_short.xml"/>
			<id> 1 </id>
			<user0>
				<copy src="SkillPerkMenu" trait="user2" />
			</user0>
			<depth> 3 </depth>
			<x>
				<!-- <copy src="skillperk_description" trait="x" />
				<add>
					<copy src="skillperk_description" trait="wrapwidth" />
					<sub src="me()" trait="width" />
					<div> 2 </div>
				</add> -->
				<copy src="parent()" trait="width" />
				<sub src="me()" trait="width" />
				<sub> 15 </sub>
			</x>
			<y>
				<!-- <copy src="skill_icon" trait="y" />
				<add src="skill_icon" trait="height" /> -->
				<copy src="parent()" trait="height" />
				<sub src="me()" trait="height" />
				<sub> 15 </sub>
			</y>
			
			<user20> &xbuttona; </user20>
			<xdefault> &xboxhint; </xdefault>
		</image>
	</rect>
</menu>
